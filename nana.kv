# ============================================================================================
#  >> VISTAS y PANELES de la APP
# --------------------------------------------------------------------------------------------
ScreenManager:
    id: screen_manager
    MDScreen:
        id: principal
        name: 'MDScreen'
        manager: 'screen_manager'
    PersonScreen:
        id: person_screen
        name: 'PersonScreen'
        manager: 'screen_manager'
    SmsScreen:
        id: sms_screen
        name: 'SmsScreen'
        manager: 'screen_manager'
    CalendarScreen:
        id: calendar_screen
        name: 'CalendarScreen'
        manager: 'screen_manager'
    AppointmentScreen:
        id: appointment_screen
        name: 'AppointmentScreen'
        manager: 'screen_manager'
    ContactoScreen:
        id: contacto_screen
        name: 'ContactoScreen'
        manager: 'screen_manager'
    ListaConScreen:
        id: lista_con_screen
        name: 'ListaConScreen'
        manager: 'screen_manager'
# ============================================================================================
#  >> VENTANA PRINCIPAL
# ============================================================================================
<MDScreen>:
    MDLabel:
        text: "NANA"
        color: 0,0,0
        font_size: "30sp"
        pos_hint : {'center_y': 0.95}
        halign: 'center'
        bold: True
        font_family: 'niramit'
# --------------------------------------------------------------------------------------------
    MDFloatingActionButton:
        icon: "account"
        icon_color: "white"
        theme_icon_color: "Custom"
        elevation: 0
        pos_hint : {'center_x': 0.55, 'center_y': 0.30}
        size_hint: 0.075, 0.07
        icon_size_hint: "100sp"
        padding: 5
        on_release: app.root.current = 'PersonScreen'
#---------------------------------------------------------------------------------------------
    MDFloatingActionButton:
        icon: "book-account"
        icon_color: "white"
        theme_icon_color: "Custom"
        elevation: 0
        pos_hint : {'center_x': 0.45, 'center_y': 0.30}
        size_hint: 0.075, 0.07
        icon_size_hint: "100sp"
        padding: 5
        on_release: app.root.current = 'ContactoScreen'
# --------------------------------------------------------------------------------------------
    #MDRectangleFlatButton:
    #    text: "Help"
    #    text_color: "black"
    #    line_color: "red"
    #    md_bg_color:[1,0,0,1]
    #    pos_hint : {'center_x': 0.2, 'center_y': 0.95}
    #    size_hint: 0.015, 0.015
    #    on_press: app.call()
# --------------------------------------------------------------------------------------------
    MDLabel:
        text: "Bienvenido persona"
        color: 0,0,0
        font_size: "20sp"
        pos_hint : {'center_y': 0.87}
        halign: 'center'
        font_family: 'khmer'
# ============================================================================================
#  >> MICROFONO
# --------------------------------------------------------------------------------------------
    MDFloatingActionButton:                                 # Boton del microfono
        icon: "microphone"
        icon_color: "white"
        elevation: 0
        pos_hint : {'center_x': 0.5, 'center_y': 0.70}
        on_press : app.callback()
        size_hint: 0.25, 0.22
        icon_size: "105sp"
        border: 0,0,0,0
# --------------------------------------------------------------------------------------------
    MDLabel:                                                # Mensaje de funcion
        text: "Presione aqui y habla"
        color: 0,0,0
        font_size: "20sp"
        pos_hint : {'center_y': 0.53}
        halign: 'center'
        font_family: 'khmer'
# --------------------------------------------------------------------------------------------
    MDTextField:
        id: data
        hint_text: "¿Qué desea buscar?"
        helper_text_mode: "on_focus"
        color_mode: 'accent'
        mode: "rectangle"
        pos_hint : {'center_x': 0.5, 'center_y': 0.45}
        max_text_length: 1000
        size_hint: 0.5, 0.1
# --------------------------------------------------------------------------------------------
    MDFloatingActionButton:
        icon: "magnify"
        icon_color: "white"
        line_color: "green"
        on_press: app.search()
        elevation: 0
        pos_hint : {'center_x': 0.83, 'center_y': 0.44}
# --------------------------------------------------------------------------------------------
    MDFloatingActionButton:
        icon: "whatsapp"
        icon_color: "white"
        theme_icon_color: "Custom"
        elevation: 0
        pos_hint : {'center_x': 0.55, 'center_y': 0.20}
        size_hint: 0.075, 0.07
        icon_size_hint: "100sp"
        padding: 5
        on_release: app.root.current = 'SmsScreen'
# --------------------------------------------------------------------------------------------
    MDFloatingActionButton:
        icon: "calendar"
        icon_color: "white"
        theme_icon_color: "Custom"
        elevation: 0
        pos_hint : {'center_x': 0.45, 'center_y': 0.20}
        size_hint: 0.075, 0.07
        icon_size_hint: "100sp"
        padding: 5
        on_release: app.root.current = 'CalendarScreen'
# ============================================================================================
#  >> VENTANA DE PERFIL
# --------------------------------------------------------------------------------------------
<PersonScreen>
    MDLabel:                                                # Titulo De la Pantalla
        text: "Agregue sus datos"
        color: 0,0,0
        font_size: "40sp"
        pos_hint : {'center_x': 0.5, 'center_y': 0.85}
        halign: 'center'
        font_family: 'khmer'

    MDRectangleFlatButton:
        text: 'Volver'
        font_size: 25
        pos_hint : {'center_x': 0.5, 'center_y': 0.2}
        on_release: app.root.current = 'MDScreen'
# --------------------------------------------------------------------------------------------
# Nombre del usuario:
# --------------------------------------------------------------------------------------------
    MDTextField:                                            # Campo para el nombre del usuario
        id: nombre
        hint_text: "Nombre"
        helper_text_mode: "on_focus"
        color_mode: 'accent'
        mode: "rectangle"
        pos_hint : {'center_x': 0.58, 'center_y': 0.70}
        size_hint: 0.635, 0.1
        max_text_length: 20
# --------------------------------------------------------------------------------------------
    MDLabel:                                                # Aqui va su nombre
        text: "Nombre: "
        color: 0,0,0
        font_size: "20sp"
        pos_hint : {'center_x': 0.21, 'center_y': 0.70}
        halign: 'center'
        font_family: 'khmer'
# --------------------------------------------------------------------------------------------
# Apellido del usuario:
# --------------------------------------------------------------------------------------------
    MDTextField:                                            # Campo para el apellido del usuario
        id: apellido
        hint_text: "Apellido"
        helper_text_mode: "on_focus"
        color_mode: 'accent'
        mode: "rectangle"
        pos_hint : {'center_x': 0.58, 'center_y': 0.58}
        size_hint: 0.635, 0.1
        max_text_length: 39
# --------------------------------------------------------------------------------------------
    MDLabel:                                                # Aqui va su apellido
        text: "Apellido: "
        color: 0,0,0
        font_size: "20sp"
        pos_hint : {'center_x': 0.21, 'center_y': 0.58}
        halign: 'center'
        font_family: 'khmer'
# --------------------------------------------------------------------------------------------
# DNI del usuario:
# --------------------------------------------------------------------------------------------
    #MDTextField:                                            # Campo para el DNI del usuario
    #    id: cedula
    #    hint_text: "cedula"
    #    helper_text_mode: "on_focus"
    #    color_mode: 'accent'
    #    mode: "rectangle"
    #    pos_hint : {'center_x': 0.58, 'center_y': 0.45}
    #    size_hint: 0.635, 0.1
    #    max_text_length: 15
# --#------------------------------------------------------------------------------------------
    #MDLabel:                                                # Aqui va su DNI
    #    text: "Cedula: "
    #    hint_text: "cedula"
    #    color: 0,0,0
    #    font_size: "20sp"
    #    pos_hint : {'center_x': 0.21, 'center_y': 0.45}
    #    halign: 'center'
    #    font_family: 'khmer'
# --------------------------------------------------------------------------------------------
#   >> Seccion de cumpleaños:
# --------------------------------------------------------------------------------------------
    MDLabel:                                                # Aqui va su nombre
        text: "Cumpleaños: "
        color: 0,0,0
        font_size: "20sp"
        pos_hint : {'center_x': 0.18, 'center_y': 0.46}
        halign: 'center'
        font_family: 'khmer'
# --------------------------------------------------------------------------------------------
    MDTextField:                                            # Campo para el apellido del usuario
        id: dia_bd
        hint_text: "Dia"
        helper_text_mode: "on_focus"
        color_mode: 'accent'
        mode: "rectangle"
        pos_hint : {'center_x': 0.36, 'center_y': 0.46}
        size_hint: 0.2, 0.1
        max_text_length: 2
    MDTextField:                                            # Campo para el apellido del usuario
        id: mes_bd
        hint_text: "Mes"
        helper_text_mode: "on_focus"
        color_mode: 'accent'
        mode: "rectangle"
        pos_hint : {'center_x': 0.58, 'center_y': 0.46}
        size_hint: 0.2, 0.1
        max_text_length: 2
    MDTextField:                                            # Campo para el apellido del usuario
        id: anio_bd
        hint_text: "Año"
        helper_text_mode: "on_focus"
        color_mode: 'accent'
        mode: "rectangle"
        pos_hint : {'center_x': 0.80, 'center_y': 0.46}
        size_hint: 0.2, 0.1
        max_text_length: 4
# ------------------------------------------------------------------------------------------------------
    #BoxLayout:
    #    orientation: "vertical"
    #    size: root.width, root.height
    #    MDGridLayout:
    #        cols: 2
    #        MDLabel:
    #            text: "Hipertenso"
    #            font_size: 20
    #            pos_hint : {'center_x': 0.20, 'center_y': 0.25}
    #            halign: 'center'
    #            font_family: 'khmer'
    #        MDCheckbox:
    #            pos_hint : {'center_x': 0.40, 'center_y': 0.25}
    #            on_active: root.checkbox_click(self,self.active, "hipertenso")
    #        MDLabel:
    #            text: "Alzehimer"
    #            font_size: 20
    #            pos_hint : {'center_x': 0.20, 'center_y': 0.25}
    #            halign: 'center'
    #            font_family: 'khmer'
    #        MDCheckbox:
    #            pos_hint : {'center_x': 0.40, 'center_y': 0.25}
    #            on_active: root.checkbox_click(self,self.active, "alzehimer")
    #        MDLabel:
    #            text: "Diabetes"
    #            font_size: 20
    #            pos_hint : {'center_x': 0.20, 'center_y': 0.25}
    #            halign: 'center'
    #            font_family: 'khmer'
    #        MDCheckbox:
    #            pos_hint : {'center_x': 0.40, 'center_y': 0.25}
    #            on_active: root.checkbox_click(self,self.active, "diabetes")
#
    #        MDLabel:
    #            id: output_label
    #            text: ""
    #            font_size: 20
    #            halign: 'center'
# ======================================================================================================
#   >> Modulo de mensaje
# ------------------------------------------------------------------------------------------------------
<SmsScreen>
# ------------------------------------------------------------------------------------------------------
    MDLabel:
        text: "Enviar WhatsApp"
        color: 0,0,0
        font_size: "40sp"
        pos_hint : {'center_x': 0.5, 'center_y': 0.85}
        halign: 'center'
        font_family: 'khmer'
# ------------------------------------------------------------------------------------------------------
    MDTextField:
        id: people
        hint_text: "nombre persona"
        helper_text_mode: "on_focus"
        color_mode: 'accent'
        mode: "rectangle"
        pos_hint : {'center_x': 0.45, 'center_y': 0.65}
        size_hint: 0.45, 0.1
        max_text_length: 1000
# ------------------------------------------------------------------------------------------------------
    MDTextField:
        id: msg
        hint_text: "Escribir mensaje"
        helper_text_mode: "on_focus"
        color_mode: 'accent'
        mode: "rectangle"
        pos_hint : {'center_x': 0.45, 'center_y': 0.5}
        size_hint: 0.45, 0.1
        max_text_length:
# ------------------------------------------------------------------------------------------------------
    MDRectangleFlatButton:
        text: "Enviar"
        text_color: "green"
        line_color: "green"
        on_press: app.send_people()
        pos_hint : {'center_x': 0.75, 'center_y': 0.5}
# ------------------------------------------------------------------------------------------------------
    MDRectangleFlatButton:                                  # Return al inicio:
        text: 'Volver'
        font_size: 25
        pos_hint : {'center_x': 0.5, 'center_y': 0.2}
        on_release: app.root.current = 'MDScreen'
# ------------------------------------------------------------------------------------------------------
    #MDFloatingActionButton:
    #    icon: "whatsapp"
    #    icon_color: "white"
    #    theme_icon_color: "Custom"
    #    elevation: 0
    #    pos_hint : {'center_x':0.5, 'center_y': 0.8}
    #    size_hint: 0.1, 0.1
    #    icon_size_hint: "100sp"
    #    padding: 5
# ======================================================================================================
#   >> Modulo de calendario
# ------------------------------------------------------------------------------------------------------
<CalendarScreen>
# ------------------------------------------------------------------------------------------------------
    MDLabel:
        id: new_recordatorio
        text: "Nuevo recordatorio"
        pos_hint:{'center_x': 0.5, 'center_y': 0.85}
        font_size: "30sp"
        halign: 'center'
        bold: True
        font_family: 'niramit'
# ------------------------------------------------------------------------------------------------------
    MDTextField:
        id: date_name
        hint_text: " ¿Qué hay para esta fecha?"
        helper_text_mode: "on_focus"
        color_mode: 'accent'
        mode: "rectangle"
        pos_hint : {'center_x': 0.5, 'center_y': 0.67}
        max_text_length: 1000
        size_hint: 0.4, 0.1
# ------------------------------------------------------------------------------------------------------
    MDRaisedButton:
        text: "Seleccionar fecha"
        elevation: 0
        pos_hint:{'center_x': 0.4, 'center_y': 0.45}
        on_release: app.show_date_picker()
# ------------------------------------------------------------------------------------------------------
    MDLabel:
        id: date_label
        text: ""
        pos_hint:{'center_x': 0.90, 'center_y': 0.57}
# ------------------------------------------------------------------------------------------------------
    MDRaisedButton:
        text: "Seleccionar hora"
        elevation: 0
        pos_hint: {'center_x': 0.6, 'center_y': 0.45}
        on_release: app.show_time_picker()
# ------------------------------------------------------------------------------------------------------
    MDLabel:
        id: time_label
        text: ""
        pos_hint: {'center_x': .096, 'center_y': 0.52}
# ------------------------------------------------------------------------------------------------------
    MDRaisedButton:
        text: "Guardar"
        elevation: 0
        pos_hint:{'center_x': 0.5, 'center_y': 0.35}
        on_release:
            app.save_event()
            app.appnt_list()
# ------------------------------------------------------------------------------------------------------
    MDRectangleFlatButton:
        text: 'Ver recordatorios'
        font_size: 20
        elevation: 0
        pos_hint : {'center_x': 0.60, 'center_y': 0.2}
        on_release: app.root.current = 'AppointmentScreen'
# ------------------------------------------------------------------------------------------------------
    MDRectangleFlatButton:
        text: 'Volver'
        font_size: 20
        pos_hint : {'center_x': 0.35, 'center_y': 0.2}
        on_release: app.root.current = 'MDScreen'
# ------------------------------------------------------------------------------------------------------
<AppointmentScreen>
# ------------------------------------------------------------------------------------------------------
    ScrollView:
        MDList:
            id: container
# ------------------------------------------------------------------------------------------------------
    MDRectangleFlatButton:
        text: 'Volver'
        font_size: 20
        pos_hint : {'center_x': 0.5, 'center_y': 0.2}
        on_release: app.root.current = 'CalendarScreen'
# ------------------------------------------------------------------------------------------------------
<ContactoScreen>
    MDLabel:
        id: contacto
        text: "Agregar contactos"
        color: 0,0,0
        font_size: "40sp"
        pos_hint : {'center_x': 0.5, 'center_y': 0.85}
        halign: 'center'
        font_family: 'khmer'

    MDTextField:
        id: contact_name
        hint_text: "Nombre"
        helper_text_mode: "on_focus"
        color_mode: 'accent'
        mode: "rectangle"
        pos_hint : {'center_x': 0.5, 'center_y': 0.70}
        max_text_length: 256
        size_hint: 0.4, 0.1

    MDLabel:
        id: name_label
        text: ""
        text_color: "white"
        pos_hint:{'center_x': 0.1, 'center_y': 0.2}

    MDTextField:
        id: contact_lastname
        hint_text: "Apellido"
        helper_text_mode: "on_focus"
        color_mode: 'accent'
        mode: "rectangle"
        pos_hint : {'center_x': 0.5, 'center_y': 0.58}
        max_text_length: 128
        size_hint: 0.4, 0.1

    MDLabel:
        id: lastname_label
        text: ""
        text_color: "white"
        pos_hint:{'center_x': 0.2, 'center_y': 0.2}

    MDTextField:
        id: phone_number
        hint_text: "Numero de tlf"
        helper_text_mode: "on_focus"
        color_mode: 'accent'
        mode: "rectangle"
        pos_hint : {'center_x': 0.5, 'center_y': 0.46}
        max_text_length: 11
        size_hint: 0.4, 0.1

    MDLabel:
        id: tlf_label
        text: ""
        text_color: "white"
        pos_hint:{'center_x': 0.3, 'center_y': 0.2}

    MDRaisedButton:
        text: "Guardar"
        elevation: 0
        pos_hint:{'center_x': 0.5, 'center_y': 0.34}
        on_release:
            app.save_contact()
            app.appnt_listCon()

    MDRectangleFlatButton:
        text: 'Ver Contactos'
        font_size: 20
        elevation: 0
        pos_hint : {'center_x': 0.60, 'center_y': 0.2}
        on_release: app.root.current = 'ListaConScreen'

    MDRectangleFlatButton:
        text: 'Volver'
        font_size: 25
        pos_hint : {'center_x': 0.35, 'center_y': 0.2}
        on_release: app.root.current = 'MDScreen'

#-------------------------------------------------------------------------------------------------------
<ListaConScreen>
# ------------------------------------------------------------------------------------------------------
    ScrollView:
        MDList:
            id: ContactContainer

    MDRectangleFlatButton:
        text: 'Volver'
        font_size: 20
        pos_hint : {'center_x': 0.5, 'center_y': 0.2}
        on_release: app.root.current = 'ContactoScreen'
